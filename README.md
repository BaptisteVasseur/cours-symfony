# airbnb - Plateforme de location de logements

## üìã Pr√©sentation

airbnb est une plateforme web de location de logements entre particuliers, d√©velopp√©e avec Symfony pour servir de support p√©dagogique √† l'apprentissage du framework.

## üöÄ Installation et configuration

### Pr√©requis

- PHP 8.2+ avec extensions (pdo_pgsql, mbstring, zip, gd, intl)
- Composer
- Symfony CLI
- PostgreSQL 15+
- Git

### Installation recommand√©e

**Pour suivre le cours, nous recommandons de :**
1. **Fork ce repository** pour garder une trace de votre progression
2. **Ou cr√©er un nouveau repository** vide pour partir de z√©ro

### 1. Installation de Symfony CLI

(https://symfony.com/download)[https://symfony.com/download]

### 2. Cr√©ation du projet Symfony

```bash
# Cr√©er un nouveau projet Symfony
symfony new airbnb --version="7.1.*"
cd airbnb
```

### 3. Installation des d√©pendances

```bash
# Installer les d√©pendances de base
composer require orm
composer require debug
composer require alice
# ...
composer require symfony/maker-bundle --dev
composer require symfony/security-bundle
composer require symfony/form
composer require symfony/validator
composer require symfony/twig-bundle
composer require symfony/asset
composer require symfony/mailer
composer require symfony/http-client
composer require symfony/doctrine-fixtures-bundle --dev
composer require symfony/test-pack --dev
```

### 4. Services Docker (optionnel mais recommand√©)

```bash
# D√©marrer PostgreSQL et MailHog avec Docker Compose
docker compose up -d postgres mailhog

# V√©rifier que les services sont d√©marr√©s
docker compose ps
```

### 5. Configuration de l'environnement

```bash
# Configurer la base de donn√©es dans .env.local
DATABASE_URL="postgresql://airbnb:airbnb@localhost:5432/airbnb?serverVersion=15&charset=utf8"
MAILER_DSN=smtp://localhost:1025
```

### 6. Initialisation de la base de donn√©es

```bash
# Cr√©er la base de donn√©es
symfony console doctrine:database:create

# V√©rifier la connexion
symfony console doctrine:database:create --if-not-exists
```

### 7. D√©marrage du serveur de d√©veloppement

```bash
# D√©marrer le serveur Symfony
symfony serve -d

# Ou avec le serveur PHP int√©gr√©
symfony server:start
```

### 8. Acc√®s aux services

- **Application Symfony** : https://127.0.0.1:8000
- **Interface MailHog** : http://localhost:8025
- **Base de donn√©es PostgreSQL** : localhost:5432

## üê≥ Services Docker (Docker Compose v2)

### Services disponibles

- **PostgreSQL** - Base de donn√©es principale
- **MailHog** - Serveur SMTP de test pour les emails

### Ports utilis√©s

- `5432` - PostgreSQL
- `8025` - Interface MailHog (web)
- `1025` - SMTP MailHog

### Commandes Docker Compose

```bash
# D√©marrer les services
docker compose up -d

# Arr√™ter les services
docker compose down

# Voir les logs
docker compose logs -f

# Red√©marrer un service
docker compose restart postgres
```

### Symfony

```bash
# Cr√©er une entit√©
php bin/console make:entity

# Cr√©er un contr√¥leur
php bin/console make:controller

# Cr√©er un formulaire
php bin/console make:form

# Cr√©er une migration
php bin/console make:migration

# Ex√©cuter les migrations
php bin/console doctrine:migrations:migrate

# Vider le cache
php bin/console cache:clear

# Voir les routes
php bin/console debug:router
```

## üìñ Documentation

- [Documentation Symfony](https://symfony.com/doc/current/)
- [Documentation Doctrine](https://www.doctrine-project.org/projects/orm.html)
- [Documentation Twig](https://twig.symfony.com/doc/)
